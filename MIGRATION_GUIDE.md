# üîÑ Migration Guide - ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡∏´‡∏≤‡∏¢‡πÑ‡∏õ

## üêõ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö Multi-user:
- ‚ùå **‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏à‡∏≤‡∏Å Dropdown**
- ‚ùå **‡∏Å‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÉ‡∏´‡∏°‡πà ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏°‡∏´‡∏≤‡∏¢‡πÑ‡∏õ**
- ‚ùå **Dropdown ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£**

### ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏

‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô `companyMembers` collection ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `getUserCompanies()` ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ

---

## ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏î‡πâ‡∏ß‡∏¢ **3 ‡∏ß‡∏¥‡∏ò‡∏µ**:

### 1. üîÑ Auto Migration (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ **Migrate ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥** ‡πÄ‡∏°‡∏∑‡πà‡∏≠ User Login:
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Admin ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

**‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**
```typescript
// ‡πÉ‡∏ô CompanyContext.tsx
const loadCompanies = async () => {
    // 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á Migrate ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    const needMigration = await checkNeedMigration();
    
    if (needMigration) {
        // 2. Migrate ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
        await migrateOldCompanies();
    }
    
    // 3. ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    const companies = await getUserCompanies();
};
```

### 2. üîô Backward Compatible

‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `getUserCompanies()` ‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á:
- ‚úÖ **‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà**: ‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å `companyMembers` collection
- ‚úÖ **‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡πà‡∏≤**: ‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å `companies` collection (fallback)

**‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**
```typescript
export const getUserCompanies = async () => {
    const companies = [];
    
    // 1. ‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å memberships (‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà)
    const memberships = await getUserMemberships(userId);
    for (const m of memberships) {
        companies.push(await getCompanyById(m.companyId));
    }
    
    // 2. Fallback: ‡∏î‡∏∂‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà User ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á
    const oldCompanies = await getDocs(
        query(companies, where('userId', '==', userId))
    );
    companies.push(...oldCompanies);
    
    return companies;
};
```

### 3. üõ†Ô∏è Manual Migration (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)

‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Migrate ‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á:

```typescript
import { migrateOldCompanies } from './services/migration';

// ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
await migrateOldCompanies();
```

---

## üìä ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:
- ‚úÖ ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô Dropdown
- ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢
- ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡∏°‡πà

---

## üîç ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏ñ‡∏π‡∏Å Migrate ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á

‡πÄ‡∏õ‡∏¥‡∏î Browser Console ‡πÅ‡∏•‡∏∞‡∏î‡∏π Log:

```
üìã ‡∏î‡∏∂‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏à‡∏≤‡∏Å memberships: 2 ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£
üìã ‡∏î‡∏∂‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÄ‡∏Å‡πà‡∏≤ (fallback): 1 ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£
üìã ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: 3 ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó
```

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Firestore

1. ‡πÄ‡∏õ‡∏¥‡∏î Firebase Console
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Firestore Database
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Collection:

**Collection: `companies`**
```
companies/
  ‚îî‚îÄ‚îÄ {companyId}/
      ‚îú‚îÄ‚îÄ name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏î‡∏™‡∏≠‡∏ö"
      ‚îú‚îÄ‚îÄ userId: "user-123"
      ‚îî‚îÄ‚îÄ memberCount: 1  ‚Üê ‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡∏Ñ‡πà‡∏≤
```

**Collection: `companyMembers`**
```
companyMembers/
  ‚îî‚îÄ‚îÄ {memberId}/
      ‚îú‚îÄ‚îÄ companyId: "company-123"
      ‚îú‚îÄ‚îÄ userId: "user-123"
      ‚îú‚îÄ‚îÄ email: "user@example.com"
      ‚îú‚îÄ‚îÄ role: "admin"
      ‚îî‚îÄ‚îÄ status: "active"
```

---

## üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### Test Case 1: ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤

```typescript
// 1. Login ‡∏î‡πâ‡∏ß‡∏¢ User ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤
// 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÉ‡∏ô Dropdown
const companies = await getUserCompanies();
console.assert(companies.length > 0, '‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£');

// 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
const members = await getCompanyMembers(companies[0].id);
console.assert(members.length > 0, '‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å');
```

### Test Case 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÉ‡∏´‡∏°‡πà

```typescript
// 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÉ‡∏´‡∏°‡πà
const newCompanyId = await createCompany({ name: 'Test' });

// 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
const members = await getCompanyMembers(newCompanyId);
console.assert(members.length === 1, '‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ Admin 1 ‡∏Ñ‡∏ô');
console.assert(members[0].role === 'admin', '‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô Admin');
```

### Test Case 3: Dropdown ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£

```typescript
// 1. Login
// 2. ‡πÄ‡∏õ‡∏¥‡∏î Dropdown ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£
// 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
const companies = await getUserCompanies();
console.log('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£:', companies.length);
companies.forEach(c => console.log('- ', c.name));
```

---

## üîß ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

### ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

1. **`services/companies.ts`**
   - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `getUserCompanies()` ‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Backward Compatible
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° Fallback Logic

2. **`contexts/CompanyContext.tsx`**
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° Auto Migration ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
   - Import `checkNeedMigration` ‡πÅ‡∏•‡∏∞ `migrateOldCompanies`

### ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà

3. **`services/migration.ts`** (‡πÉ‡∏´‡∏°‡πà)
   - `migrateOldCompanies()` - Migrate ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤
   - `checkNeedMigration()` - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á Migrate ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

---

## üìù Code Changes

### Before (‡∏õ‡∏±‡∏ç‡∏´‡∏≤)

```typescript
// services/companies.ts
export const getUserCompanies = async () => {
    // ‡∏î‡∏∂‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
    const memberships = await getUserMemberships(userId);
    
    if (memberships.length === 0) {
        return []; // ‚ùå ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡∏´‡∏≤‡∏¢‡πÑ‡∏õ!
    }
    
    return memberships.map(m => getCompanyById(m.companyId));
};
```

### After (‡πÅ‡∏Å‡πâ‡πÅ‡∏•‡πâ‡∏ß)

```typescript
// services/companies.ts
export const getUserCompanies = async () => {
    const companies = [];
    const companyIds = new Set();
    
    // 1. ‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å memberships (‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà)
    const memberships = await getUserMemberships(userId);
    for (const m of memberships) {
        const company = await getCompanyById(m.companyId);
        if (company) {
            companies.push(company);
            companyIds.add(company.id);
        }
    }
    
    // 2. Fallback: ‡∏î‡∏∂‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤ (Backward Compatible)
    const oldCompanies = await getDocs(
        query(
            collection(db, 'companies'),
            where('userId', '==', userId)
        )
    );
    
    for (const doc of oldCompanies.docs) {
        if (!companyIds.has(doc.id)) {
            companies.push(doc.data());
        }
    }
    
    return companies; // ‚úÖ ‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡∏°‡πà
};
```

---

## üéØ ‡∏™‡∏£‡∏∏‡∏õ

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÅ‡∏•‡πâ‡∏ß

- ‚úÖ ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô Dropdown
- ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢
- ‚úÖ Auto Migration ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Login
- ‚úÖ Backward Compatible ‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡πà‡∏≤

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ

1. **Auto Migration** - Migrate ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î
2. **Fallback Logic** - ‡∏î‡∏∂‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
3. **Duplicate Prevention** - ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏ã‡πâ‡∏≥

### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡πà‡∏≤‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡∏°‡πà ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° üéâ

---

## üÜò ‡∏´‡∏≤‡∏Å‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. Logout ‡πÅ‡∏•‡πâ‡∏ß Login ‡πÉ‡∏´‡∏°‡πà
2. ‡πÄ‡∏õ‡∏¥‡∏î Browser Console ‡∏î‡∏π Log
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Migration ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Migration ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```typescript
// ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ Manual Migration
import { migrateOldCompanies } from './services/migration';
await migrateOldCompanies();
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏ã‡πâ‡∏≥

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏µ Duplicate Prevention ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
- ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏ã‡πâ‡∏≥ ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `companyIds` Set

---

**‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î:** 2025-10-10  
**‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô:** 1.0.0

